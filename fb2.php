<?php// https://www.facebook.com/dialog/oauth?client_id=495711410548329&response_type=code&redirect_uri=http://www.einovie.com/fb2.php// app token access_token=495711410548329|up16b6mGDQ8hvpJbdNlXkZdn-VQ // userid 100007548270437if(isset($_GET)&& isset($_GET['code']) && !isset($_GET['access_token'])){    $url = 'https://graph.facebook.com/oauth/access_token?client_id=495711410548329&redirect_uri=http://www.einovie.com/fb2.php&client_secret=c5fabf1c6f825e04b67439eefca8ef65&code='.$_GET['code'];	$ch = curl_init(); 	curl_setopt($ch, CURLOPT_URL,            $url);   	curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 10); //	curl_setopt($ch, CURLOPT_TIMEOUT,        10); 	curl_setopt($ch, CURLOPT_RETURNTRANSFER, true );	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);  	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false); 	//curl_setopt($ch, CURLOPT_POST,           true ); 	//curl_setopt($ch, CURLOPT_POSTFIELDS,    $request); 		$response = curl_exec($ch);	$err = curl_error($ch);        curl_close($ch);        echo '<p>temp token</p>';    var_dump($response);    var_dump($err);    $params = array();    foreach (explode('&', $response) as $p)     {        $arr = explode('=', $p);        if(isset($arr[1]))            $params[$arr[0]] = $arr[1];    }}echo '<p>1</p>';var_dump($params);if(isset($params['access_token'])){    $url = 'https://graph.facebook.com/oauth/access_token?grant_type=fb_exchange_token&client_id=495711410548329&client_secret=c5fabf1c6f825e04b67439eefca8ef65&fb_exchange_token='.$params['access_token'];	$ch = curl_init(); 	curl_setopt($ch, CURLOPT_URL,            $url);   	curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 10); //	curl_setopt($ch, CURLOPT_TIMEOUT,        10); 	curl_setopt($ch, CURLOPT_RETURNTRANSFER, true );	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);  	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false); 	//curl_setopt($ch, CURLOPT_POST,           true ); 	//curl_setopt($ch, CURLOPT_POSTFIELDS,    $request); 		$response = curl_exec($ch);	$err = curl_error($ch);        curl_close($ch);        echo '<p>long term token</p>';    var_dump($response);    var_dump($err);    $params = array();    foreach (explode('&', $response) as $p)     {        $arr = explode('=', $p);        if(isset($arr[1]))            $params[$arr[0]] = $arr[1];    }    // this access_token is the long-term token    var_dump($params);        $url = 'https://graph.facebook.com/100007548270437/feed';    $request = 'message=testing1234&access_token='.$params['access_token'];	$ch = curl_init(); 	curl_setopt($ch, CURLOPT_URL,            $url);   	curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 10); //	curl_setopt($ch, CURLOPT_TIMEOUT,        10); 	curl_setopt($ch, CURLOPT_RETURNTRANSFER, true );	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);  	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false); 	curl_setopt($ch, CURLOPT_POST,           true ); 	curl_setopt($ch, CURLOPT_POSTFIELDS,    $request); 		$response = curl_exec($ch);	$err = curl_error($ch);        curl_close($ch);        echo '<p>post message</p>';    var_dump($response);    var_dump($err);        exit;    $url = 'https://graph.facebook.com/oauth/access_token?grant_type=client_credentials&client_id=495711410548329&client_secret=c5fabf1c6f825e04b67439eefca8ef65';	$ch = curl_init(); 	curl_setopt($ch, CURLOPT_URL,            $url);   	curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 10); //	curl_setopt($ch, CURLOPT_TIMEOUT,        10); 	curl_setopt($ch, CURLOPT_RETURNTRANSFER, true );	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);  	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false); 	//curl_setopt($ch, CURLOPT_POST,           true ); 	//curl_setopt($ch, CURLOPT_POSTFIELDS,    $request); 		$response = curl_exec($ch);	$err = curl_error($ch);        curl_close($ch);        echo '<p>app token</p>';    var_dump($response);    var_dump($err);        $params2 = array();    foreach (explode('&', $response) as $p)     {        $arr = explode('=', $p);        if(isset($arr[1]))            $params2[$arr[0]] = $arr[1];    }        $url = 'https://graph.facebook.com/debug_token?input_token='.$params['access_token'].'&access_token='.$params2['access_token'];	$ch = curl_init(); 	curl_setopt($ch, CURLOPT_URL,            $url);   	curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 10); //	curl_setopt($ch, CURLOPT_TIMEOUT,        10); 	curl_setopt($ch, CURLOPT_RETURNTRANSFER, true );	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);  	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false); 	//curl_setopt($ch, CURLOPT_POST,           true ); 	//curl_setopt($ch, CURLOPT_POSTFIELDS,    $request); 		$response = curl_exec($ch);	$err = curl_error($ch);        curl_close($ch);        echo '<p>verification</p>';    var_dump($response);    var_dump($err);    }?>